
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <title>Section 8.1: The Scaffolding of a Laravel App Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 4.0.8">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2_service_providers.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Cover
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 1: Introduction</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../part_1_introduction/chapter_1_overview/">
            
                <a href="../../part_1_introduction/chapter_1_overview/">
            
                    
                    Chapter 1: Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../part_1_introduction/chapter_2_essential_concepts/">
            
                <a href="../../part_1_introduction/chapter_2_essential_concepts/">
            
                    
                    Chapter 2: Essential Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../../part_1_introduction/chapter_2_essential_concepts/1_closures.html">
            
                <a href="../../part_1_introduction/chapter_2_essential_concepts/1_closures.html">
            
                    
                    Section 2.1: Closures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../../part_1_introduction/chapter_2_essential_concepts/2_coroutines.html">
            
                <a href="../../part_1_introduction/chapter_2_essential_concepts/2_coroutines.html">
            
                    
                    Section 2.2: Coroutines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../../part_1_introduction/chapter_2_essential_concepts/3_generators.html">
            
                <a href="../../part_1_introduction/chapter_2_essential_concepts/3_generators.html">
            
                    
                    Section 2.3: Generators
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../part_1_introduction/chapter_3_concurrency/">
            
                <a href="../../part_1_introduction/chapter_3_concurrency/">
            
                    
                    Chapter 3: Concurrency
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../../part_1_introduction/chapter_3_concurrency/1_concurrency_overview.html">
            
                <a href="../../part_1_introduction/chapter_3_concurrency/1_concurrency_overview.html">
            
                    
                    Section 3.1: Concurrency Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../../part_1_introduction/chapter_3_concurrency/2_asynchronous_runtimes.html">
            
                <a href="../../part_1_introduction/chapter_3_concurrency/2_asynchronous_runtimes.html">
            
                    
                    Section 3.2: Asynchronous Runtimes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../../part_1_introduction/chapter_3_concurrency/3_concurrency_in_php.html">
            
                <a href="../../part_1_introduction/chapter_3_concurrency/3_concurrency_in_php.html">
            
                    
                    Section 3.3: Concurrency in PHP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Part 2: Fundamentals of Web Apps</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/">
            
                    
                    Chapter 4: Introduction to Web Applications
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/1_request_response_cycle.html">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/1_request_response_cycle.html">
            
                    
                    Section 4.1: Request Response Cycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/2_web_server.html">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/2_web_server.html">
            
                    
                    Section 4.2: Web Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/3_application_server.html">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_4_introduction_to_web_applications/3_application_server.html">
            
                    
                    Section 4.3: Application Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../part_2_fundamentals_of_web_apps/chapter_5_server_side_non_blocking/">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_5_server_side_non_blocking/">
            
                    
                    Chapter 5: Server Side Non-Blocking
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../../part_2_fundamentals_of_web_apps/chapter_5_server_side_non_blocking/1_message_queues.html">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_5_server_side_non_blocking/1_message_queues.html">
            
                    
                    Section 5.1: Message Queues
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../../part_2_fundamentals_of_web_apps/chapter_5_server_side_non_blocking/2_events.html">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_5_server_side_non_blocking/2_events.html">
            
                    
                    Section 5.2: Events
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../part_2_fundamentals_of_web_apps/chapter_6_real_time_protocols/">
            
                <a href="../../part_2_fundamentals_of_web_apps/chapter_6_real_time_protocols/">
            
                    
                    Chapter 6: Real-Time Protocols
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 3: Building a Web App</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../chapter_7_overview_on_how_to_build_a_web_app/">
            
                <a href="../chapter_7_overview_on_how_to_build_a_web_app/">
            
                    
                    Chapter 7: Overview on how to Build a Web App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="./">
            
                <a href="./">
            
                    
                    Chapter 8: Laravel as a Backend Framework
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="4.2.1" data-path="1_the_scaffolding_of_a_laravel_app.html">
            
                <a href="1_the_scaffolding_of_a_laravel_app.html">
            
                    
                    Section 8.1: The Scaffolding of a Laravel App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="2_service_providers.html">
            
                <a href="2_service_providers.html">
            
                    
                    Section 8.2: Service Providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="3_facades.html">
            
                <a href="3_facades.html">
            
                    
                    Section 8.3: Facades
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="4_the_rest.html">
            
                <a href="4_the_rest.html">
            
                    
                    Section 8.4: The Rest
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../chapter_9_vue_js_3_as_a_frontend_framework/">
            
                <a href="../chapter_9_vue_js_3_as_a_frontend_framework/">
            
                    
                    Chapter 9: Vue.js 3 as a Frontend Framework
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../chapter_9_vue_js_3_as_a_frontend_framework/1_state_management_in_vuejs_3.html">
            
                <a href="../chapter_9_vue_js_3_as_a_frontend_framework/1_state_management_in_vuejs_3.html">
            
                    
                    Section 9.1: State Management in Vue.js 3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../chapter_10_monolithic_architecture/">
            
                <a href="../chapter_10_monolithic_architecture/">
            
                    
                    Chapter 10: Monolothic Architecture
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 4: Conclusion</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../part_4_conclusion/chapter_11_takeaways/">
            
                <a href="../../part_4_conclusion/chapter_11_takeaways/">
            
                    
                    Chapter 11: Takeaways
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 5: References</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../part_5_references/chapter_x_resources/">
            
                <a href="../../part_5_references/chapter_x_resources/">
            
                    
                    Chapter x: Resources
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Section 8.1: The Scaffolding of a Laravel App</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="81-the-scaffolding-of-a-laravel-app">8.1 The Scaffolding of a Laravel App</h2>
<h3 id="indexphp">index.php</h3>
<p>The following is the code of the Laravel 10.x <strong>index.php</strong> file.</p>
<pre><code class="lang-text">
<?php

use Illuminate\Contracts\Http\Kernel;
use Illuminate\Http\Request;

define('LARAVEL_START', microtime(true));

/*
|--------------------------------------------------------------------------
| Check If The Application Is Under Maintenance
|--------------------------------------------------------------------------
|
| If the application is in maintenance / demo mode via the "down" command
| we will load this file so that any pre-rendered content can be shown
| instead of starting the framework, which could cause an exception.
|
*/

if (file_exists($maintenance = __DIR__.'/../storage/framework/maintenance.php')) {
    require $maintenance;
}

/*
|--------------------------------------------------------------------------
| Register The Auto Loader
|--------------------------------------------------------------------------
|
| Composer provides a convenient, automatically generated class loader for
| this application. We just need to utilize it! We'll simply require it
| into the script here so we don't need to manually load our classes.
|
*/

require __DIR__.'/../vendor/autoload.php';

/*
|--------------------------------------------------------------------------
| Run The Application
|--------------------------------------------------------------------------
|
| Once we have the application, we can handle the incoming request using
| the application's HTTP kernel. Then, we will send the response back
| to this client's browser, allowing them to enjoy our application.
|
*/

$app = require_once __DIR__.'/../bootstrap/app.php';

$kernel = $app->make(Kernel::class);

$response = $kernel-&gt;handle(
    $request = Request::capture()
)-&gt;send();

$kernel-&gt;terminate($request, $response);
</code></pre>
<h3 id="analysing-the-indexphp-code">Analysing the index.php code:</h3>
<p>Even if the comments weren&apos;t there, the Laravel&apos;s index.php file code is straightforward well written.</p>
<p>The banner comments make it even more understandable.</p>
<p></p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>First observation: the length of each comment line in each comment block is <strong>3 characters less</strong> than its preceding comment line.</p>
</div></div><p></p>
<p>The following is a sequence diagram that describes the interaction between the client, the web server, and Laravel&apos;s <code>index.php</code>:</p>
<pre><code class="lang-mermaid"><svg aria-roledescription="sequence" role="graphics-document document" viewBox="-50 -10 745.5 735" style="max-width: 745.5px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1690362619111"><style>#mermaid-1690362619111{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1690362619111 .error-icon{fill:#552222;}#mermaid-1690362619111 .error-text{fill:#552222;stroke:#552222;}#mermaid-1690362619111 .edge-thickness-normal{stroke-width:2px;}#mermaid-1690362619111 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1690362619111 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1690362619111 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1690362619111 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1690362619111 .marker{fill:#333333;stroke:#333333;}#mermaid-1690362619111 .marker.cross{stroke:#333333;}#mermaid-1690362619111 svg{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1690362619111 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1690362619111 text.actor&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362619111 .actor-line{stroke:grey;}#mermaid-1690362619111 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-1690362619111 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-1690362619111 #arrowhead path{fill:#333;stroke:#333;}#mermaid-1690362619111 .sequenceNumber{fill:white;}#mermaid-1690362619111 #sequencenumber{fill:#333;}#mermaid-1690362619111 #crosshead path{fill:#333;stroke:#333;}#mermaid-1690362619111 .messageText{fill:#333;stroke:none;}#mermaid-1690362619111 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1690362619111 .labelText,#mermaid-1690362619111 .labelText&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362619111 .loopText,#mermaid-1690362619111 .loopText&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362619111 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-1690362619111 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1690362619111 .noteText,#mermaid-1690362619111 .noteText&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362619111 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-1690362619111 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-1690362619111 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-1690362619111 .actorPopupMenu{position:absolute;}#mermaid-1690362619111 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-1690362619111 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1690362619111 .actor-man circle,#mermaid-1690362619111 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-1690362619111 :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;}</style><g/><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"/></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"/></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"/></symbol></defs><g><line stroke="#999" stroke-width="0.5px" class="200" y2="669" x2="75" y1="5" x1="75" id="actor0"/><g id="root-0"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="75"><tspan dy="0" x="75">Client</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="669" x2="275" y1="5" x1="275" id="actor1"/><g id="root-1"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="200"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="275"><tspan dy="0" x="275">Web Server</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="669" x2="486" y1="5" x1="486" id="actor2"/><g id="root-2"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="411"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="486"><tspan dy="0" x="486">index.php</tspan></text></g></g><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker refY="5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"/></marker></defs><g><rect class="activation0" ry="0" rx="0" height="426" width="10" stroke="#666" fill="#EDF2AE" y="157" x="481"/></g><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="175">HTTP Request</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="111" x2="275" y1="111" x1="75"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="126" x="381">Passes HTTP Request</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="157" x2="486" y1="157" x1="275"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="172" x="491">Define LARAVEL_START</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 491,203 C 551,193 551,233 491,223"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="248" x="491">Check If The Application Is Under Maintenance</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 491,279 C 551,269 551,309 491,299"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="324" x="491">Register The Auto Loader</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 491,355 C 551,345 551,385 491,375"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="400" x="491">Run The Application</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 491,431 C 551,421 551,461 491,451"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="476" x="378">HTTP Response</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="507" x2="275" y1="507" x1="481"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="522" x="491">Terminate The Application</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 491,553 C 551,543 551,583 491,573"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="598" x="175">HTTP Response</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="629" x2="75" y1="629" x1="275"/><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="649" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="681.5" x="75"><tspan dy="0" x="75">Client</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="649" x="200"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="681.5" x="275"><tspan dy="0" x="275">Web Server</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="649" x="411"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="681.5" x="486"><tspan dy="0" x="486">index.php</tspan></text></g></svg></code></pre>
<p>In this diagram:</p>
<ol>
<li>The client sends an HTTP request to the web server.</li>
<li>The web server passes the HTTP request to <code>index.php</code>.</li>
<li><code>index.php</code> performs the following steps:<ul>
<li>Define LARAVEL_START</li>
<li>Check If The Application Is Under Maintenance</li>
<li>Register The Auto Loader</li>
<li>Run The Application</li>
<li>Sends an HTTP response back to the web server</li>
<li>Terminate The Application</li>
</ul>
</li>
<li>The web server sends the HTTP response back to the client.</li>
</ol>
<p>Let&apos;s break down the steps that <code>index.php</code> performs and see which section of the <code>index.php</code> code is responsible for which step:</p>
<ol>
<li>Define LARAVEL_START</li>
</ol>
<pre><code>define(&apos;LARAVEL_START&apos;, microtime(true));
</code></pre><ol>
<li>Check If The Application Is Under Maintenance</li>
</ol>
<pre><code>if (file_exists($maintenance = __DIR__.&apos;/../storage/framework/maintenance.php&apos;)) {
    require $maintenance;
}
</code></pre><ol>
<li>Register The Auto Loader</li>
</ol>
<pre><code>require __DIR__.&apos;/../vendor/autoload.php&apos;;
</code></pre><ol>
<li>Run The Application</li>
</ol>
<pre><code>$app = require_once __DIR__.&apos;/../bootstrap/app.php&apos;;

$kernel = $app-&gt;make(Kernel::class);
</code></pre><ol>
<li>Sends an HTTP response back to the web server</li>
</ol>
<pre><code>$response = $kernel-&gt;handle(
    $request = Request::capture()
)-&gt;send();
</code></pre><ol>
<li>Terminate The Application</li>
</ol>
<pre><code>$kernel-&gt;terminate($request, $response);
</code></pre><h3 id="explaining-the-indexphp-code-sections">Explaining the index.php code sections</h3>
<ol>
<li><strong>Define LARAVEL_START</strong>: This line sets a constant that holds the timestamp of when the script started. This can be used for profiling and debugging.</li>
</ol>
<ol>
<li><strong>Check If The Application Is Under Maintenance</strong>: Laravel provides a maintenance mode that can be activated with the <code>php artisan down</code> command. When in maintenance mode, Laravel will display a custom view to all requests into your application. This can be used when you are updating your server or installing a new feature and you don&apos;t want users to see errors or experience downtime.</li>
</ol>
<ol>
<li><strong>Register The Auto Loader</strong>: This part of the script loads Composer&apos;s autoloader. Composer is a tool for dependency management in PHP, and its autoloader automatically loads PHP classes when they&apos;re needed, so you don&apos;t have to manually include them.</li>
</ol>
<ol>
<li><strong>Run The Application</strong>: This section does the actual work of handling the incoming HTTP request and sending a response.</li>
</ol>
<ul>
<li>It starts by <strong>bootstrapping the Laravel application</strong>, which involves setting up error handling, configuring logging, loading configuration files, and more. </li>
</ul>
<pre><code>$app = require_once __DIR__.&apos;/../bootstrap/app.php&apos;;
</code></pre><ul>
<li>Then it creates an instance of Laravel&apos;s <strong>HTTP kernel</strong>, which is responsible for handling the request. The kernel handles the request and returns a response, which is then sent back to the client.</li>
</ul>
<pre><code>$kernel = $app-&gt;make(Kernel::class);
</code></pre><ol>
<li><strong>Terminate The Application</strong>: After the response has been sent to the client, the script calls the kernel&apos;s <code>terminate</code> method. This method is used to perform any final tasks after the response has been sent, such as committing database transactions or writing to log files.</li>
</ol>
<h3 id="the-http-kernel">The HTTP Kernel</h3>
<p>Ok, now let&apos;s try to reason backwards and try to understand the following lines of code:</p>
<pre><code>$response = $kernel-&gt;handle(
    $request = Request::capture()
)-&gt;send();

$kernel-&gt;terminate($request, $response);
</code></pre><p>the Laravel&apos;s HTTP kernel is primarily responsible for handling incoming HTTP requests to the application. It is the central component that manages the request lifecycle in a Laravel application.</p>
<p>To understand how the Laravel HTTP kernel works, we need to firstly start by analysing the code that <code>index.php</code> is <strong>using</strong>, namely, <code>Illuminate\Contracts\Http\Kernel</code>.</p>
<h3 id="analysing-the-illuminatecontractshttpkernel">Analysing the <code>Illuminate\Contracts\Http\Kernel</code>:</h3>
<p>The following is the code of the <code>Kernel.php</code> file which is namespaced as <code>Illuminate\Contracts\Http\Kernel</code>:</p>
<pre><code>php

namespace Illuminate\Contracts\Http;

interface Kernel
{
    /**
     * Bootstrap the application for HTTP requests.
     *
     * @return void
     */
    public function bootstrap();

    /**
     * Handle an incoming HTTP request.
     *
     * @param  \Symfony\Component\HttpFoundation\Request  $request
     * @return \Symfony\Component\HttpFoundation\Response
     */
    public function handle($request);

    /**
     * Perform any final actions for the request lifecycle.
     *
     * @param  \Symfony\Component\HttpFoundation\Request  $request
     * @param  \Symfony\Component\HttpFoundation\Response  $response
     * @return void
     */
    public function terminate($request, $response);

    /**
     * Get the Laravel application instance.
     *
     * @return \Illuminate\Contracts\Foundation\Application
     */
    public function getApplication();
}
</code></pre><p>This code is the interface for the HTTP Kernel in Laravel. </p>
<p>An interface in PHP is a contract or a blueprint for a class. </p>
<p>It defines a set of methods that the class must implement. In this case, any class that implements the <code>Illuminate\Contracts\Http\Kernel</code> interface must define the methods <code>bootstrap()</code>, <code>handle()</code>, <code>terminate()</code>, and <code>getApplication()</code>.</p>
<p>Here&apos;s what each method is intended to do:</p>
<ol>
<li><p><strong><code>bootstrap()</code></strong>: This method is responsible for bootstrapping the application for HTTP requests. It doesn&apos;t take any parameters and doesn&apos;t return anything (<code>void</code>).</p>
</li>
<li><p><strong><code>handle($request)</code></strong>: This method is responsible for handling an incoming HTTP request. It takes a <code>Symfony\Component\HttpFoundation\Request</code> object as a parameter and returns a <code>Symfony\Component\HttpFoundation\Response</code> object.</p>
</li>
<li><p><strong><code>terminate($request, $response)</code></strong>: This method is responsible for performing any final actions for the request lifecycle. It takes a <code>Symfony\Component\HttpFoundation\Request</code> object and a <code>Symfony\Component\HttpFoundation\Response</code> object as parameters and doesn&apos;t return anything (<code>void</code>).</p>
</li>
<li><p><strong><code>getApplication()</code></strong>: This method is responsible for getting the Laravel application instance. It doesn&apos;t take any parameters and returns an <code>Illuminate\Contracts\Foundation\Application</code> object.</p>
</li>
</ol>
<h3 id="the-first-question-that-begs-itself">The <span style="color: red;">first question</span> that begs itself:</h3>
<p>How does the following line of code works?:</p>
<pre><code>$kernel = $app-&gt;make(Kernel::class);
</code></pre><p>How is the <code>$app-&gt;make();</code> method able to instantiate the <code>Kernel</code> Interface using just its namespace as a string <code>Kernel::class</code>? </p>
<p>In PHP, you can&apos;t instantiate an interface. In order to instantiate an Interface you need to create a non-abstract class that implements that interface.</p>
<h3 id="short-answer">Short answer:</h3>
<div style="display:flex; align-items:center; justify-content:center; border:5px solid black;">
    <h1 style="color:red; margin-top: 0px;" id="laravel-service-container">Laravel Service Container</h1>
</div>

<p><strong>Definition:</strong> The <strong>Laravel Service Container</strong>, also known as the <strong>IoC (Inversion of Control)</strong> container, is a powerful <strong>tool</strong> that has a variety of <strong>key features</strong> that help managing a Laravel application.</p>
<p>The service container is essentially a <span style="color: red;"><strong>box of objects (services)</strong></span> that the application needs to function. These services can be anything from database connections to mailer classes or custom-written services for your application. The container allows you to <span style="color: red; font-weight: bold">bind</span> these services into it, and then <span style="color: red; font-weight: bold">resolve</span> them out when you need them.</p>
<p>In Laravel, the <code>$app-&gt;make()</code> method is used to <strong>resolve</strong> a class out of the service container. </p>
<p>When you call <code>$app-&gt;make(Kernel::class)</code>, Laravel is not trying to instantiate the <code>Kernel</code> interface. Instead, it&apos;s looking for a concrete implementation of that interface that has been bound into the service container.</p>
<p>Earlier in the <code>bootstrap/app.php</code> file, Laravel <strong>binds</strong> the <code>Kernel</code> interface to a concrete implementation:</p>
<pre><code class="lang-php">$app-&gt;singleton(
    Illuminate\Contracts\Http\Kernel::class,
    App\Http\Kernel::class
);
</code></pre>
<p>This code tells Laravel: &quot;Whenever someone asks for the <code>Kernel</code> interface, give them an instance of <code>App\Http\Kernel</code>.&quot;</p>
<p>So, when you call <code>$app-&gt;make(Kernel::class)</code>, Laravel gives you an instance of <code>App\Http\Kernel</code>, which is a concrete class that implements the <code>Kernel</code> interface.</p>
<p>This is a fundamental part of Laravel&apos;s service container and is key to how Laravel handles dependency injection. It allows you to depend on abstractions (like interfaces) in your code, while Laravel takes care of providing the correct implementation.</p>
<p></p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>In Laravel, the <code>$app</code> variable is not globally accessible in all PHP files by default. However, Laravel provides a variety of ways to access the application instance (and thus the service container) when you need it.</p>
<ol>
<li><strong>Dependency Injection</strong>: Laravel&apos;s service container is primarily intended to be used with dependency injection. This means that instead of trying to access the <code>$app</code> variable directly, you type-hint the dependencies your class needs in its constructor, and Laravel will automatically inject them for you. This is the recommended way to access services in Laravel.</li>
</ol>
</div></div><p></p>
<h3 id="why-use-the-laravel-service-container-">Why use the Laravel Service Container ?</h3>
<p>Technically, there is no ultimate main reason why we must use the Laravel Service Container as it is a tool that represents a set of key features that allow us to manage our Laravel application.</p>
<p>That implies that every feature that the Laravel Service Container provides can also be achieved without the reliance on the Laravel Service Container.</p>
<p>However, as a software engineer, to push the Laravel Framework toward its <strong>full potential</strong> you must use its Service Container for the following reasons: </p>
<p> <strong>1.</strong> The Laravel Service Container is an integral component of the Laravel Framework. From its very start the Laravel Framework uses its Service Container to <span style="color: red; font-weight: bold">bootstrap</span> the entire application.</p>
<p> <strong>2.</strong> The Laravel Service Container is an essential part of the Laravel framework, as many features of the Laravel Framework are <span style="color: red; font-weight: bold">built on top</span> of its Service Container.</p>
<p> <strong>3.</strong> The Laravel Service Container provides a number of features that make its usage almost <span style="color: red; font-weight: bold;">indispensable</span>. </p>
<p>The following are the most important features that the Laravel Service Container provides. The features are sorted from most important feature to less important feature by the criteria of frequent usage in common software engineering cases:</p>
<ol>
<li><strong>Automatic Dependency Injection</strong>: The service container can automatically resolve dependencies when you type-hint them in a class constructor or method, reducing the need for manual instantiation and making your code cleaner and more maintainable.</li>
</ol>
<p>Example:</p>
<pre><code class="lang-PHP">// In your controller
class UserController extends Controller
{
    protected $userService;

    public function __construct(UserService $userService)
    {
        $this-&gt;userService = $userService;
    }

    public function index()
    {
        $users = $this-&gt;userService-&gt;getAllUsers();
        return view(&apos;users.index&apos;, [&apos;users&apos; =&gt; $users]);
    }
}
</code></pre>
<p>In this example, Laravel&apos;s service container will automatically resolve the <code>UserService</code> dependency when it instantiates the controller. This is useful in a real-world scenario where you need to fetch all users from a database and pass them to a view.</p>
<hr>
<ol>
<li><strong>Interface to Implementation Mapping</strong>: The service container allows you to bind an interface to a specific implementation. This means you can type-hint an interface in your code, and Laravel will automatically inject the correct implementation.</li>
</ol>
<p>Example:</p>
<pre><code class="lang-PHP">use App\Contracts\EventPusher;
use App\Services\RedisEventPusher;

$this-&gt;app-&gt;bind(EventPusher::class, RedisEventPusher::class);
</code></pre>
<p>This statement tells the container that it should inject the RedisEventPusher when a class needs an implementation of EventPusher. Now we can type-hint the EventPusher interface in the constructor of a class that is resolved by the container.</p>
<pre><code class="lang-PHP">use App\Contracts\EventPusher;

/**
 * Create a new class instance.
 */
public function __construct(protected EventPusher $pusher) {}
</code></pre>
<hr>
<ol>
<li><strong>Singletons and Instance Binding</strong>: The service container allows you to bind a single instance of a service that will be returned on subsequent requests for that service. This is useful for services that maintain state or are expensive to create.</li>
</ol>
<p>Example</p>
<pre><code class="lang-PHP">use App\Services\Transistor;
use App\Services\PodcastParser;
use Illuminate\Contracts\Foundation\Application;

$this-&gt;app-&gt;singleton(Transistor::class, function (Application $app) {
    return new Transistor($app-&gt;make(PodcastParser::class));
});
</code></pre>
<hr>
<ol>
<li><strong>Global Availability</strong>: The service container is globally available, which can be useful for accessing services in places where dependency injection isn&apos;t possible.</li>
</ol>
<p>Example:</p>
<pre><code class="lang-PHP">
// In a route closure
Route::get(&apos;/users&apos;, function () {
    $userService = app(&apos;App\Services\UserService&apos;);

    $users = $userService-&gt;getAllUsers();
    return view(&apos;users.index&apos;, [&apos;users&apos; =&gt; $users]);
});
</code></pre>
<p>The <code>app()</code> helper function provides global access to the service container. This is useful in a real-world scenario where you need to resolve a service in a place where dependency injection is not available, like a route closure.</p>
<hr>
<ol>
<li><strong>Contextual Binding</strong>: The service container allows you to specify different implementations of a service to be injected into different areas of your application.</li>
</ol>
<p>Example</p>
<pre><code class="lang-PHP">$this-&gt;app-&gt;when(PhotoController::class)
          -&gt;needs(Filesystem::class)
          -&gt;give(function () {
              return Storage::disk(&apos;local&apos;);
          });

$this-&gt;app-&gt;when([VideoController::class, UploadController::class])
          -&gt;needs(Filesystem::class)
          -&gt;give(function () {
              return Storage::disk(&apos;s3&apos;);
          });
</code></pre>
<hr>
<ol>
<li><strong>Tagging</strong>: The service container allows you to tag related services and then access all the services tagged with a particular tag.</li>
</ol>
<p>Example</p>
<pre><code class="lang-PHP">$this-&gt;app-&gt;bind(CpuReport::class, function () {
    // ...
});

$this-&gt;app-&gt;bind(MemoryReport::class, function () {
    // ...
});

$this-&gt;app-&gt;tag([CpuReport::class, MemoryReport::class], &apos;reports&apos;);
</code></pre>
<p>Once the services have been tagged, you may easily resolve them all via the container&apos;s tagged method</p>
<pre><code class="lang-PHP">$this-&gt;app-&gt;bind(ReportAnalyzer::class, function (Application $app) {
    return new ReportAnalyzer($app-&gt;tagged(&apos;reports&apos;));
});
</code></pre>
<hr>
<ol>
<li><strong>Extensibility</strong>: The service container allows you to extend services that have been bound to the container, giving you an opportunity to add additional methods or wrap the service in a decorator.</li>
</ol>
<pre><code class="lang-PHP">
// In a service provider&apos;s boot method
$this-&gt;app-&gt;extend(&apos;App\Services\UserService&apos;, function ($service, $app) {
    // Wrap the $service in a decorator class
    return new \App\Decorators\UserServiceDecorator($service);
});
</code></pre>
<p>This wraps the <code>UserService</code> in a <code>UserServiceDecorator</code> whenever it is resolved out of the container. This is useful in a real-world scenario where you want to add behavior to a service without modifying its code. For example, you might want to add logging to all methods of a service.</p>
<hr>
<h3 id="the-app-container">The app container</h3>
<p>To get a grasp of how Laravel works we need to understand the main component of the Laravel framework. Which is the <strong>app container</strong>.</p>
<p>To understand what the following two lines of code do.</p>
<pre><code>$app = require_once __DIR__.&apos;/../bootstrap/app.php&apos;;

$kernel = $app-&gt;make(Kernel::class);
</code></pre><p>We take a look at the <strong>./bootstrap/app.php</strong> file:</p>
<pre><code><?php

/*
|--------------------------------------------------------------------------
| Create The Application
|--------------------------------------------------------------------------
|
| The first thing we will do is create a new Laravel application instance
| which serves as the "glue" for all the components of Laravel, and is
| the IoC container for the system binding all of the various parts.
|
*/

$app = new Illuminate\Foundation\Application(
    $_ENV['APP_BASE_PATH'] ?? dirname(__DIR__)
);

/*
|--------------------------------------------------------------------------
| Bind Important Interfaces
|--------------------------------------------------------------------------
|
| Next, we need to bind some important interfaces into the container so
| we will be able to resolve them when needed. The kernels serve the
| incoming requests to this application from both the web and CLI.
|
*/

$app->singleton(
    Illuminate\Contracts\Http\Kernel::class,
    App\Http\Kernel::class
);

$app-&gt;singleton(
    Illuminate\Contracts\Console\Kernel::class,
    App\Console\Kernel::class
);

$app-&gt;singleton(
    Illuminate\Contracts\Debug\ExceptionHandler::class,
    App\Exceptions\Handler::class
);

/*
|--------------------------------------------------------------------------
| Return The Application
|--------------------------------------------------------------------------
|
| This script returns the application instance. The instance is given to
| the calling script so we can separate the building of the instances
| from the actual running of the application and sending responses.
|
*/

return $app;
</code></pre><h3 id="analysing-the-appphp-code">Analysing the app.php code:</h3>
<p>Here&apos;s a breakdown of what the <code>app.php</code> does:</p>
<ol>
<li><strong>Create The Application</strong>: The script starts by creating a new instance of <code>Illuminate\Foundation\Application</code>. This class is the main Laravel application instance and serves as the &quot;glue&quot; for all the components of Laravel. It&apos;s also the IoC container for the system, binding all of the various parts.</li>
</ol>
<ol>
<li><p><strong>Bind Important Interfaces</strong>: Next, the script binds some important interfaces into the container. These interfaces are the contracts that define the core services of Laravel. The <code>singleton</code> method is used to bind a single instance of the service to the container. This means that the same instance will be returned on subsequent calls into the container. The interfaces and their implementations that are bound here are:</p>
<ul>
<li><p><code>Illuminate\Contracts\Http\Kernel</code> is bound to <code>App\Http\Kernel</code>. This is the HTTP kernel that handles incoming web requests.</p>
</li>
<li><p><code>Illuminate\Contracts\Console\Kernel</code> is bound to <code>App\Console\Kernel</code>. This is the console kernel that handles CLI commands.</p>
</li>
<li><p><code>Illuminate\Contracts\Debug\ExceptionHandler</code> is bound to <code>App\Exceptions\Handler</code>. This is the exception handler that handles exceptions thrown by the application.</p>
</li>
</ul>
</li>
</ol>
<ol>
<li><strong>Return The Application</strong>: Finally, the script returns the application instance. This instance is given to the calling script (which is usually <code>public/index.php</code>), so it can separate the building of the instances from the actual running of the application and sending responses.</li>
</ol>
<p>The following is a diagram that illustrates how the <code>app.php</code> interacts with the different components in the initial bootstrapping of the application.  </p>
<pre><code class="lang-mermaid"><svg aria-roledescription="sequence" role="graphics-document document" viewBox="-50 -10 1185 401" style="max-width: 1185px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1690362657721"><style>#mermaid-1690362657721{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1690362657721 .error-icon{fill:#552222;}#mermaid-1690362657721 .error-text{fill:#552222;stroke:#552222;}#mermaid-1690362657721 .edge-thickness-normal{stroke-width:2px;}#mermaid-1690362657721 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1690362657721 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1690362657721 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1690362657721 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1690362657721 .marker{fill:#333333;stroke:#333333;}#mermaid-1690362657721 .marker.cross{stroke:#333333;}#mermaid-1690362657721 svg{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1690362657721 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1690362657721 text.actor&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362657721 .actor-line{stroke:grey;}#mermaid-1690362657721 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-1690362657721 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-1690362657721 #arrowhead path{fill:#333;stroke:#333;}#mermaid-1690362657721 .sequenceNumber{fill:white;}#mermaid-1690362657721 #sequencenumber{fill:#333;}#mermaid-1690362657721 #crosshead path{fill:#333;stroke:#333;}#mermaid-1690362657721 .messageText{fill:#333;stroke:none;}#mermaid-1690362657721 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1690362657721 .labelText,#mermaid-1690362657721 .labelText&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362657721 .loopText,#mermaid-1690362657721 .loopText&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362657721 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-1690362657721 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-1690362657721 .noteText,#mermaid-1690362657721 .noteText&amp;gt;tspan{fill:black;stroke:none;}#mermaid-1690362657721 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-1690362657721 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-1690362657721 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-1690362657721 .actorPopupMenu{position:absolute;}#mermaid-1690362657721 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-1690362657721 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-1690362657721 .actor-man circle,#mermaid-1690362657721 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-1690362657721 :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;}</style><g/><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"/></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"/></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"/></symbol></defs><g><line stroke="#999" stroke-width="0.5px" class="200" y2="335" x2="75" y1="5" x1="75" id="actor0"/><g id="root-0"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="75"><tspan dy="0" x="75">app.php</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="335" x2="410" y1="5" x1="410" id="actor1"/><g id="root-1"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="335"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="410"><tspan dy="0" x="410">Application</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="335" x2="610" y1="5" x1="610" id="actor2"/><g id="root-2"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="535"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="610"><tspan dy="0" x="610">Http Kernel</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="335" x2="810" y1="5" x1="810" id="actor3"/><g id="root-3"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="735"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="810"><tspan dy="0" x="810">Console Kernel</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="335" x2="1010" y1="5" x1="1010" id="actor4"/><g id="root-4"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="935"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="1010"><tspan dy="0" x="1010">Exception Handler</tspan></text></g></g><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker refY="5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="18" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"/></marker></defs><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="243">Creates new Application instance</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="111" x2="410" y1="111" x1="75"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="126" x="243">Returns reference to Application instance</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="157" x2="75" y1="157" x1="410"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="172" x="343">use the app reference to Bind HTTP Kernel interface to Http Kernel implementation</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="203" x2="610" y1="203" x1="75"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="218" x="443">use the app reference to Bind Console Kernel interface to Console Kernel implementation</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="249" x2="810" y1="249" x1="75"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="264" x="543">use the app reference to Bind Exception Handler interface to Handler implementation</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="295" x2="1010" y1="295" x1="75"/><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="315" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="347.5" x="75"><tspan dy="0" x="75">app.php</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="315" x="335"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="347.5" x="410"><tspan dy="0" x="410">Application</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="315" x="535"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="347.5" x="610"><tspan dy="0" x="610">Http Kernel</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="315" x="735"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="347.5" x="810"><tspan dy="0" x="810">Console Kernel</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="315" x="935"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="347.5" x="1010"><tspan dy="0" x="1010">Exception Handler</tspan></text></g></svg></code></pre>
<p>The following, is a diagram that shows the structure of the Laravel Service Container after the <code>./bootstrap/app.php</code> script is run.</p>
<pre><code class="lang-mermaid"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 666.734375 251" style="max-width: 666.734px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1690362659708"><style>#mermaid-1690362659708{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1690362659708 .error-icon{fill:#552222;}#mermaid-1690362659708 .error-text{fill:#552222;stroke:#552222;}#mermaid-1690362659708 .edge-thickness-normal{stroke-width:2px;}#mermaid-1690362659708 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1690362659708 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1690362659708 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1690362659708 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1690362659708 .marker{fill:#333333;stroke:#333333;}#mermaid-1690362659708 .marker.cross{stroke:#333333;}#mermaid-1690362659708 svg{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1690362659708 .label{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;color:#333;}#mermaid-1690362659708 .cluster-label text{fill:#333;}#mermaid-1690362659708 .cluster-label span{color:#333;}#mermaid-1690362659708 .label text,#mermaid-1690362659708 span{fill:#333;color:#333;}#mermaid-1690362659708 .node rect,#mermaid-1690362659708 .node circle,#mermaid-1690362659708 .node ellipse,#mermaid-1690362659708 .node polygon,#mermaid-1690362659708 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1690362659708 .node .label{text-align:center;}#mermaid-1690362659708 .node.clickable{cursor:pointer;}#mermaid-1690362659708 .arrowheadPath{fill:#333333;}#mermaid-1690362659708 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1690362659708 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1690362659708 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1690362659708 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1690362659708 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1690362659708 .cluster text{fill:#333;}#mermaid-1690362659708 .cluster span{color:#333;}#mermaid-1690362659708 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1690362659708 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1690362659708 :root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 12 20" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app_php LE-app" id="L-app_php-app-0" d="M306.0859375,33L306.0859375,38.666666666666664C306.0859375,44.333333333333336,306.0859375,55.666666666666664,306.0859375,67C306.0859375,78.33333333333333,306.0859375,89.66666666666667,306.0859375,95.33333333333333L306.0859375,101"/><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-http_kernel" id="L-app-http_kernel-0" d="M233.03055383663366,134L207.9408261138614,139.66666666666666C182.8510983910891,145.33333333333334,132.67164294554456,156.66666666666666,107.58191522277228,168C82.4921875,179.33333333333334,82.4921875,190.66666666666666,82.4921875,196.33333333333334L82.4921875,202"/><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-console_kernel" id="L-app-console_kernel-0" d="M306.0859375,134L306.0859375,139.66666666666666C306.0859375,145.33333333333334,306.0859375,156.66666666666666,306.0859375,168C306.0859375,179.33333333333334,306.0859375,190.66666666666666,306.0859375,196.33333333333334L306.0859375,202"/><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-exception_handler" id="L-app-exception_handler-0" d="M385.1875,133.94726260936696L412.4830729166667,139.62271884113912C439.7786458333333,145.2981750729113,494.3697916666667,156.64908753645565,521.6653645833334,167.9912104348945C548.9609375,179.33333333333334,548.9609375,190.66666666666666,548.9609375,196.33333333333334L548.9609375,202"/></g><g class="edgeLabels"><g transform="translate(306.0859375, 67)" class="edgeLabel"><g transform="translate(-40.9140625, -9)" class="label"><foreignObject height="18" width="81.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">References</span></div></foreignObject></g></g><g transform="translate(82.4921875, 168)" class="edgeLabel"><g transform="translate(-66.265625, -9)" class="label"><foreignObject height="18" width="132.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Binds as Singleton</span></div></foreignObject></g></g><g transform="translate(306.0859375, 168)" class="edgeLabel"><g transform="translate(-66.265625, -9)" class="label"><foreignObject height="18" width="132.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Binds as Singleton</span></div></foreignObject></g></g><g transform="translate(548.9609375, 168)" class="edgeLabel"><g transform="translate(-66.265625, -9)" class="label"><foreignObject height="18" width="132.53125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Binds as Singleton</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(306.0859375, 16.5)" id="flowchart-app_php-16" class="node default default"><rect height="33" width="41.703125" y="-16.5" x="-20.8515625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-13.3515625, -9)" style="" class="label"><foreignObject height="18" width="26.703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">app</span></div></foreignObject></g></g><g transform="translate(306.0859375, 117.5)" id="flowchart-app-17" class="node default default"><rect height="33" width="158.203125" y="-16.5" x="-79.1015625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-71.6015625, -9)" style="" class="label"><foreignObject height="18" width="143.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Application Instance</span></div></foreignObject></g></g><g transform="translate(82.4921875, 218.5)" id="flowchart-http_kernel-19" class="node default default"><rect height="33" width="164.984375" y="-16.5" x="-82.4921875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-74.9921875, -9)" style="" class="label"><foreignObject height="18" width="149.984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">HTTP Kernel Service</span></div></foreignObject></g></g><g transform="translate(306.0859375, 218.5)" id="flowchart-console_kernel-21" class="node default default"><rect height="33" width="182.203125" y="-16.5" x="-91.1015625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-83.6015625, -9)" style="" class="label"><foreignObject height="18" width="167.203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Console Kernel Service</span></div></foreignObject></g></g><g transform="translate(548.9609375, 218.5)" id="flowchart-exception_handler-23" class="node default default"><rect height="33" width="203.546875" y="-16.5" x="-101.7734375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-94.2734375, -9)" style="" class="label"><foreignObject height="18" width="188.546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Exception Handler Service</span></div></foreignObject></g></g></g></g></g></svg></code></pre>
<h3 id="demystifying-the-http-kernel">Demystifying the HTTP Kernel:</h3>
<p>According to the Laravel documentation, <strong>Taylor Otwell</strong> says:</p>
<blockquote>
<p>Think of the kernel as being a big black box that represents your entire application. Feed it HTTP requests and it will return HTTP responses.</p>
</blockquote>
<p><img src="HTTPKernel.drawio.png" alt="HTTP Kernel"></p>
<p>Now let&apos;s take a deeper look of what the <strong>HTTP Kernel</strong> does:</p>
<ol>
<li>The kernel is constructed, which calls <code>syncMiddlewareToRouter()</code>.</li>
<li>The <code>handle()</code> method is called, which calls <code>sendRequestThroughRouter()</code>.</li>
</ol>
<p>The following is a more accurate diagram of what the HTTP Kernel does.</p>
<p><img src="HTTPKernel2.drawio.png" alt="HTTP Kernel2"></p>
<p>Ok, now let&apos;s take a look of what the <code>sendRequestThroughRouter()</code> does:</p>
<ol>
<li><code>sendRequestThroughRouter()</code> calls <code>bootstrap()</code>, which processes the <span style="color: red; font-weight: bold">array</span> of<code>$bootstrappers</code>.</li>
</ol>
<ol>
<li><code>sendRequestThroughRouter()</code> creates a pipeline and sends the request through the <span style="color: red; font-weight: bold">global</span> <code>$middleware</code> <strong>stack</strong>.</li>
</ol>
<ol>
<li>The <span style="color: red; font-weight: bold;">router</span> dispatches the request to a route, which may use middleware from <code>$middlewareGroups</code>.</li>
</ol>
<p>The following is an important and more accurate representation of what happens inside the <code>sendRequestThroughRouter()</code> method:</p>
<p><img src="sendRequestThroughRouter.drawio.png" alt="sendRequestThroughRouter"></p>
<p></p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>The middlewares in the <code>$middleware</code> stack are <span style="color: red;"><strong>global</strong></span> middlewares, meaning they are run on <span style="color:red; font-weight:bold;">every</span> HTTP request that your application handles, regardless of the route that the request is targeting.</p>
<p>The middlewares in the <code>$middlewareGroups</code> are grouped middlewares, which can be <strong>assigned to specific routes or groups of routes</strong>. They are not applied globally to all requests, but <span style="color:red;"><strong>only to the routes</strong></span> that specify that they should use that middleware group.</p>
</div></div><p></p>
<h3 id="middleware">Middleware</h3>
<p><strong>Definition:</strong> Middleware acts as a bridge or intermediary between a request and a response.</p>
<p>It is usually a function that encapsulates logic through which the HTTP request travels.</p>
<p>From the Laravel Documentation:</p>
<blockquote>
<p>Middleware provide a convenient mechanism for inspecting and filtering HTTP requests entering your application. For example, Laravel includes a middleware that verifies the user of your application is authenticated.</p>
</blockquote>
<p><strong>In Laravel:</strong> a middleware is a <code>class</code> that defines a <code>handle</code> method with the following signature:</p>
<pre><code class="lang-PHP">public function handle(Request $request, Closure $next): Response
{
    return $next($request);
}
</code></pre>
<p><strong>Note:</strong> the <code>$next($request);</code> is mandatory at the end of the <code>handle</code> function call, so the <code>HTTP request</code> is passed to the <strong>next</strong> middleware. </p>
<p><strong>Creation:</strong> in Laravel, you can use artisan to create a middleware like the following: <code>php artisan make:middleware CustomMiddlewareName</code></p>
<h4 id="global-middleware">Global Middleware</h4>
<p>The global middlewares are defined in the <code>$middleware</code> property of your HTTP kernel:</p>
<p>Here is an example:</p>
<pre><code class="lang-PHP">protected $middleware = [
    \App\Http\Middleware\CheckForMaintenanceMode::class,
    \Illuminate\Foundation\Http\Middleware\ValidatePostSize::class,
    \App\Http\Middleware\TrimStrings::class,
    \Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull::class,
];
</code></pre>
<h4 id="middleware-groups">Middleware Groups</h4>
<p>In Laravel, you can define middleware groups in the HTTP Kernel. Here&apos;s an example:</p>
<pre><code class="lang-PHP">protected $middlewareGroups = [
    &apos;web&apos; =&gt; [
        \App\Http\Middleware\EncryptCookies::class,
        \Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse::class,
        \Illuminate\Session\Middleware\StartSession::class,
        // ...
    ],

    &apos;api&apos; =&gt; [
        &apos;throttle:60,1&apos;,
        &apos;bindings&apos;,
    ],

    &apos;admin&apos; =&gt; [
        \App\Http\Middleware\Authenticate::class,
        \App\Http\Middleware\CheckAdmin::class,
    ],
];
</code></pre>
<p>You can then apply these middleware groups to different routes or groups of routes:</p>
<pre><code class="lang-PHP">Route::middleware(&apos;web&apos;)-&gt;get(&apos;/&apos;, function () {
    // This route uses the &apos;web&apos; middleware group.
});

Route::middleware(&apos;api&apos;)-&gt;get(&apos;/api/items&apos;, function () {
    // This route uses the &apos;api&apos; middleware group.
});

Route::middleware(&apos;admin&apos;)-&gt;get(&apos;/admin/dashboard&apos;, function () {
    // This route uses the &apos;admin&apos; middleware group.
});
</code></pre>
<p>So, when a request comes in, it will go through the middleware of the group that is assigned to the route it&apos;s targeting. If it targets <code>/</code>, it will go through the <code>web</code> middleware. If it targets <code>/api/items</code>, it will go through the <code>api</code> middleware. If it targets <code>/admin/dashboard</code>, it will go through the <code>admin</code> middleware.</p>
<p></p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>In Laravel, you can define the routes that use the <code>web</code> middleware Group in the <code>routes/web.php</code> file without the need to specify <code>middleware(&apos;web&apos;)</code> for each route.</p>
<p>Same with the routes that use the <code>api</code> middleware Group, they can be defined in the <code>routes/api.php</code> file without the need to specify <code>middleware(&apos;api&apos;)</code> for each route.</p>
<p>This simplification is achieved which the help of the <span style="color:red;"><strong>RouteServiceProvider</strong></span></p>
<p>In its <code>boot()</code> method the <code>RouterServiceProvider</code> groups the routes defined in both the <code>web.php</code> and <code>api.php</code> files. Prefixes them respectively with either <code>nothing</code> or the <code>api</code> path prefixes and then assigns to each group the group middleware <code>middleware(&apos;web&apos;)</code> or <code>middleware(&apos;api&apos;)</code> accordingly. Like the following:</p>
<pre><code class="lang-PHP">$this-&gt;routes(function () {
            Route::middleware(&apos;api&apos;)
                -&gt;prefix(&apos;api&apos;)
                -&gt;group(base_path(&apos;routes/api.php&apos;));

            Route::middleware(&apos;web&apos;)
                -&gt;group(base_path(&apos;routes/web.php&apos;));
        });
</code></pre>
</div></div><p></p>
<h4 id="middleware-for-specific-routes">Middleware for specific routes</h4>
<p>Middleware can be also used for only specific routes like the following:</p>
<pre><code class="lang-PHP">Route::get(&apos;admin/profile&apos;, function () {
    // Your route logic here
})-&gt;middleware(&apos;custom-middleware-name&apos;);
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Chapter 8: Laravel as a Backend Framework">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2_service_providers.html" class="navigation navigation-next " aria-label="Next page: Section 8.2: Service Providers">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Section 8.1: The Scaffolding of a Laravel App","level":"4.2.1","depth":2,"next":{"title":"Section 8.2: Service Providers","level":"4.2.2","depth":2,"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/2_service_providers.md","ref":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/2_service_providers.md","articles":[]},"previous":{"title":"Chapter 8: Laravel as a Backend Framework","level":"4.2","depth":1,"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/README.md","ref":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/README.md","articles":[{"title":"Section 8.1: The Scaffolding of a Laravel App","level":"4.2.1","depth":2,"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/1_the_scaffolding_of_a_laravel_app.md","ref":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/1_the_scaffolding_of_a_laravel_app.md","articles":[]},{"title":"Section 8.2: Service Providers","level":"4.2.2","depth":2,"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/2_service_providers.md","ref":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/2_service_providers.md","articles":[]},{"title":"Section 8.3: Facades","level":"4.2.3","depth":2,"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/3_facades.md","ref":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/3_facades.md","articles":[]},{"title":"Section 8.4: The Rest","level":"4.2.4","depth":2,"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/4_the_rest.md","ref":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/4_the_rest.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["chapter-fold","hide-published-with","hints","theme-creative","mermaid-newface"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"asciidoc":{"numbered":{},"chapter-fold":{},"mermaid-newface":{"theme":"neutral"},"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-cicle","working":"fa fa-wrench"}},"search":{},"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-circle","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"hide-published-with":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-creative":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"highlight":{},"mermaid-newface":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"hidepagefooters":[],"copyright":"Dhia Eddine Nabli","authors":["Dhia Eddine Nabli"],"theme":"default","keywords":["PHP","JS"],"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":32,"left":32,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"hidepageheaders":[],"variables":{},"title":"","language":"en","gitbook":"*","description":""},"file":{"path":"part_3_building_a_web_app/chapter_8_laravel_as_a_backend_framework/1_the_scaffolding_of_a_laravel_app.md","mtime":"2023-07-26T09:09:21.964Z","type":"markdown"},"gitbook":{"version":"4.0.8","time":"2023-07-26T09:09:44.257Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

