
graph RL;
  Browser1(Browser Client 1) <--> |HTTP Request/Reponse|HttpdModule;
  Browser2(Browser Client 2) --> |HTTP Request|HttpdModule;
  subgraph OS[OS]
    style OS fill:#ffffff00,stroke:#333;
    subgraph Apache["Apache HTTP Server (Master Process)"]
        HttpdModule["httpd Apache Listener<br>(functionality)"] -->|Forwards Request| Queue;
        MP((("Apache HTTP Server (Master Process)"))) -->|use|MPM;
        MP --> |monitor|Pool;
        MP --> |start|HttpdModule;
        MPM --> |to create|Pool;
        style Apache fill:#f9f9f9,stroke:#333;
        Queue[[Request Queue]];
        MPM{{"`Multi-Processing Module (**mpm_worker**)`"}}
        MODP{{"mod_fastcgi"}}
        MP --> |loads at start|MODP
        subgraph Pool[Pool]
            direction TB;
            style Pool fill:#f9f9f9,stroke:#333;

            subgraph Worker1["Worker 1 (Process)"];
                Thread1_1("Thread 1");
                Thread1_2("Thread 2");
            end

            subgraph Worker2["Worker 2 (Process)"];
                Thread2_1("Thread 1");
                Thread2_2("Thread 2");
            end       
        end
        Pool -. "watches" .-> Queue;
    end
    Thread1_1 -->|Access| FileSystem[File System];
    Thread1_1 -->|Forwards Generated Response|HttpdModule;
    FileSystem -->|Retrieve| WelcomePage[public/index.php];
    subgraph SourceCode[Application Source Code]
        style SourceCode fill:#f9f9f9,stroke:#333;
        WelcomePage[public/index.php];
    end
    subgraph FASTCGI_Process["FastCGI Service (Master Process)"]
        FASTCGI_PROCESSS_MANAGER((("FASTCGI Process Manager")))
        subgraph Pool2["Pool"]
            subgraph FASTCGI_WORKER1 ["Worker 1 (Process)"]
                PI0("PHP Interpreter");
            end
            subgraph FASTCGI_WORKER2["Worker 2 (Process)"]
                PI1("PHP Interpreter");
            end
        end

        FASTCGI_PROCESSS_MANAGER --> |creates and monitors|Pool2;
    end
    Thread1_1 -->|FastCGI Protocol Request|FASTCGI_PROCESSS_MANAGER;
  end
    PI0 --> |FastCGI Protocol Response|Thread1_1;

  style HttpdModule fill:#85C1E9,stroke:#333;
  style Queue fill:#F7DC6F,stroke:#333;
  style Worker1 fill:#82E0CA,stroke:#333;
  style Worker2 fill:#82E0CA,stroke:#333;
  style FASTCGI_WORKER1 fill:red;
  style FASTCGI_WORKER2 fill:red;
  style FileSystem fill:#E59866,stroke:#333;
  style SourceCode fill:#E59866,stroke:#333;
  style MP fill:#82E0AA,stroke:#333;
  linkStyle 0,2,8,10,12,13,14 stroke: red;
