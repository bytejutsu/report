
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>2.2.1: The Scaffolding of a Laravel App Â· Real-Time Modern Web Applications</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.8">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2_service_providers.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../cover.html">
            
                <a href="../../cover.html">
            
                    
                    Cover
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../1_dedication/">
            
                <a href="../../1_dedication/">
            
                    
                    Dedication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../2_acknowledgment/">
            
                <a href="../../2_acknowledgment/">
            
                    
                    Acknowledgment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../3_abstract/">
            
                <a href="../../3_abstract/">
            
                    
                    Abstract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../ManualTOC.html">
            
                <a href="../../ManualTOC.html">
            
                    
                    Table of Content
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../4_general_introduction/">
            
                <a href="../../4_general_introduction/">
            
                    
                    General Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../chapter_1_general_context/">
            
                <a href="../../chapter_1_general_context/">
            
                    
                    Chapter 1: General Context
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../">
            
                <a href="../">
            
                    
                    Chapter 2: Building a Real-Time Web App
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../section_2.1_real_time_protocols_and_techniques/">
            
                <a href="../section_2.1_real_time_protocols_and_techniques/">
            
                    
                    Section 2.1: Real-Time Protocols And Techniques
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="../section_2.1_real_time_protocols_and_techniques/1_websocket_server.html">
            
                <a href="../section_2.1_real_time_protocols_and_techniques/1_websocket_server.html">
            
                    
                    2.1.1: Websocket Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="../section_2.1_real_time_protocols_and_techniques/2_websocket_client.html">
            
                <a href="../section_2.1_real_time_protocols_and_techniques/2_websocket_client.html">
            
                    
                    2.1.2: Websocket Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="../section_2.1_real_time_protocols_and_techniques/3_real_time_communication_techniques.html">
            
                <a href="../section_2.1_real_time_protocols_and_techniques/3_real_time_communication_techniques.html">
            
                    
                    2.1.3: Real-Time Communication Techniques
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="./">
            
                <a href="./">
            
                    
                    Section 2.2: Laravel as a Backend Framework
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.9.2.1" data-path="1_the_scaffolding_of_a_laravel_app.html">
            
                <a href="1_the_scaffolding_of_a_laravel_app.html">
            
                    
                    2.2.1: The Scaffolding of a Laravel App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="2_service_providers.html">
            
                <a href="2_service_providers.html">
            
                    
                    2.2.2: Service Providers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="3_facades.html">
            
                <a href="3_facades.html">
            
                    
                    2.2.3: Facades
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.4" data-path="4_the_rest.html">
            
                <a href="4_the_rest.html">
            
                    
                    2.2.4: The Rest
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../section_2.3_state_management_in_vue_js_3/">
            
                <a href="../section_2.3_state_management_in_vue_js_3/">
            
                    
                    Section 2.3: State Management in Vue.js 3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../../chapter_3_architecture_and_protocols/">
            
                <a href="../../chapter_3_architecture_and_protocols/">
            
                    
                    Chapter 3: Architecture and Protocols
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/">
            
                    
                    Section 3.1: Client Server Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1.1" data-path="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/1_request_response_cycle.html">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/1_request_response_cycle.html">
            
                    
                    3.1.1: Request Response Cycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.2" data-path="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/2_web_server.html">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/2_web_server.html">
            
                    
                    3.1.2: Web Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.1.3" data-path="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/3_application_server.html">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.1_client_server_architecture/3_application_server.html">
            
                    
                    3.1.3: Application Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../../chapter_3_architecture_and_protocols/section_3.2_server_side_non_blocking/">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.2_server_side_non_blocking/">
            
                    
                    Section 3.2: Server Side Non-Blocking
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="../../chapter_3_architecture_and_protocols/section_3.2_server_side_non_blocking/1_background_jobs.html">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.2_server_side_non_blocking/1_background_jobs.html">
            
                    
                    3.2.1: Background Jobs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="../../chapter_3_architecture_and_protocols/section_3.2_server_side_non_blocking/2_events.html">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.2_server_side_non_blocking/2_events.html">
            
                    
                    3.2.2: Events
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../../chapter_3_architecture_and_protocols/section_3.3_monolithic_architecture/">
            
                <a href="../../chapter_3_architecture_and_protocols/section_3.3_monolithic_architecture/">
            
                    
                    Section 3.3: Monolothic Architecture
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../../chapter_4_technical_design_and_implementation/">
            
                <a href="../../chapter_4_technical_design_and_implementation/">
            
                    
                    Chapter 4: Technical Design and Implementation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../../chapter_4_technical_design_and_implementation/section_4.1_invoicing_app/">
            
                <a href="../../chapter_4_technical_design_and_implementation/section_4.1_invoicing_app/">
            
                    
                    Section 4.1: Invoicing App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../../chapter_4_technical_design_and_implementation/section_4.2_messaging_app/">
            
                <a href="../../chapter_4_technical_design_and_implementation/section_4.2_messaging_app/">
            
                    
                    Section 4.2: Messaging App
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../../general_conclusion/">
            
                <a href="../../general_conclusion/">
            
                    
                    Chapter 5: General Conclusion
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >2.2.1: The Scaffolding of a Laravel App</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="221-the-scaffolding-of-a-laravel-app">2.2.1: The Scaffolding of a Laravel App</h2>
<h3 id="indexphp">index.php</h3>
<p>The following is the code of the Laravel 10.x <strong>index.php</strong> file.</p>
<pre><code class="lang-PHP">
<span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Kernel</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;

define(<span class="hljs-string">&apos;LARAVEL_START&apos;</span>, microtime(<span class="hljs-literal">true</span>));

<span class="hljs-comment">/*
|--------------------------------------------------------------------------
| Check If The Application Is Under Maintenance
|--------------------------------------------------------------------------
|
| If the application is in maintenance / demo mode via the &quot;down&quot; command
| we will load this file so that any pre-rendered content can be shown
| instead of starting the framework, which could cause an exception.
|
*/</span>

<span class="hljs-keyword">if</span> (file_exists(<span class="hljs-variable">$maintenance</span> = <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../storage/framework/maintenance.php&apos;</span>)) {
    <span class="hljs-keyword">require</span> <span class="hljs-variable">$maintenance</span>;
}

<span class="hljs-comment">/*
|--------------------------------------------------------------------------
| Register The Auto Loader
|--------------------------------------------------------------------------
|
| Composer provides a convenient, automatically generated class loader for
| this application. We just need to utilize it! We&apos;ll simply require it
| into the script here so we don&apos;t need to manually load our classes.
|
*/</span>

<span class="hljs-keyword">require</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../vendor/autoload.php&apos;</span>;

<span class="hljs-comment">/*
|--------------------------------------------------------------------------
| Run The Application
|--------------------------------------------------------------------------
|
| Once we have the application, we can handle the incoming request using
| the application&apos;s HTTP kernel. Then, we will send the response back
| to this client&apos;s browser, allowing them to enjoy our application.
|
*/</span>

<span class="hljs-variable">$app</span> = <span class="hljs-keyword">require_once</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../bootstrap/app.php&apos;</span>;

<span class="hljs-variable">$kernel</span> = <span class="hljs-variable">$app</span>-&gt;make(Kernel::class);

<span class="hljs-variable">$response</span> = <span class="hljs-variable">$kernel</span>-&gt;handle(
    <span class="hljs-variable">$request</span> = Request::capture()
)-&gt;send();

<span class="hljs-variable">$kernel</span>-&gt;terminate(<span class="hljs-variable">$request</span>, <span class="hljs-variable">$response</span>);
</code></pre>
<h3 id="analysing-the-indexphp-code">Analysing the index.php code:</h3>
<p>Even if the comments weren&apos;t there, the Laravel&apos;s index.php file code is straightforward well written.</p>
<p>The banner comments make it even more understandable.</p>
<p></p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>First observation: the length of each comment line in each comment block is <strong>3 characters less</strong> than its preceding comment line.</p>
</div></div><p></p>
<p>The following is a sequence diagram that describes the interaction between the client, the web server, and Laravel&apos;s <code>index.php</code>:</p>
<table>
<thead>
<tr>
<th><a href="https://mermaid.live/edit#pako:eNp9Ul1rwjAU_SuXPLv9gD4IRYUJCtJ2G4zCuGtubVh7kyWpbIj_fanVslm1T7035yOcnL0otCQRCUdfLXFBc4Vbi03OED6D1qtCGWQPs1oR-_H-lT5SsjuygK4boJ_GQMWSvh9NZfqjXu9hOh0EInjKsg0k3U3cyWk4DMBBIIINOkfuCh4Lr3bo6dJtGP_rzKlUTLCKk_hlsXpPszjJ7hJmFRWfsCwhqwhiY2pVoFeaYengOcAsrFGxJ8aQ5V2lhLbK-UA4KrVew0qjPAd3i9TypfMYPw7UGc3u_nUyso3iLrmr-pJuJfv3hfo3vbAVE9EEcVQy1GzfkXLhK2ooF1H4lVRiW_tc5HwIUAxJpD9ciMjbliaiNTKYnlopohJrN2wXUnlthyUdx3Xf52OtJyI0703rM_HwC1_lARs" target="_blank"><img src="https://mermaid.ink/img/pako:eNp9Ul1rwjAU_SuXPLv9gD4IRYUJCtJ2G4zCuGtubVh7kyWpbIj_fanVslm1T7035yOcnL0otCQRCUdfLXFBc4Vbi03OED6D1qtCGWQPs1oR-_H-lT5SsjuygK4boJ_GQMWSvh9NZfqjXu9hOh0EInjKsg0k3U3cyWk4DMBBIIINOkfuCh4Lr3bo6dJtGP_rzKlUTLCKk_hlsXpPszjJ7hJmFRWfsCwhqwhiY2pVoFeaYengOcAsrFGxJ8aQ5V2lhLbK-UA4KrVew0qjPAd3i9TypfMYPw7UGc3u_nUyso3iLrmr-pJuJfv3hfo3vbAVE9EEcVQy1GzfkXLhK2ooF1H4lVRiW_tc5HwIUAxJpD9ciMjbliaiNTKYnlopohJrN2wXUnlthyUdx3Xf52OtJyI0703rM_HwC1_lARs?type=png" alt></a></th>
</tr>
</thead>
<tbody>
<tr>
<td>Figure 24: Client + Server + index.php</td>
</tr>
</tbody>
</table>
<p>In this diagram:</p>
<ol>
<li>The client sends an HTTP request to the web server.</li>
<li>The web server passes the HTTP request to <code>index.php</code>.</li>
<li><code>index.php</code> performs the following steps:<ul>
<li>Define LARAVEL_START</li>
<li>Check If The Application Is Under Maintenance</li>
<li>Register The Auto Loader</li>
<li>Run The Application</li>
<li>Sends an HTTP response back to the web server</li>
<li>Terminate The Application</li>
</ul>
</li>
<li>The web server sends the HTTP response back to the client.</li>
</ol>
<p>Let&apos;s break down the steps that <code>index.php</code> performs and see which section of the <code>index.php</code> code is responsible for which step:</p>
<p>1 Define LARAVEL_START</p>
<pre><code class="lang-PHP">define(<span class="hljs-string">&apos;LARAVEL_START&apos;</span>, microtime(<span class="hljs-literal">true</span>));
</code></pre>
<p>2 Check If The Application Is Under Maintenance</p>
<pre><code class="lang-PHP"><span class="hljs-keyword">if</span> (file_exists(<span class="hljs-variable">$maintenance</span> = <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../storage/framework/maintenance.php&apos;</span>)) {
    <span class="hljs-keyword">require</span> <span class="hljs-variable">$maintenance</span>;
}
</code></pre>
<p>3 Register The Auto Loader</p>
<pre><code class="lang-PHP"><span class="hljs-keyword">require</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../vendor/autoload.php&apos;</span>;
</code></pre>
<p>4 Run The Application</p>
<pre><code class="lang-PHP"><span class="hljs-variable">$app</span> = <span class="hljs-keyword">require_once</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../bootstrap/app.php&apos;</span>;

<span class="hljs-variable">$kernel</span> = <span class="hljs-variable">$app</span>-&gt;make(Kernel::class);
</code></pre>
<p>5 Sends an HTTP response back to the web server</p>
<pre><code class="lang-PHP"><span class="hljs-variable">$response</span> = <span class="hljs-variable">$kernel</span>-&gt;handle(
    <span class="hljs-variable">$request</span> = Request::capture()
)-&gt;send();
</code></pre>
<p>6 Terminate The Application</p>
<pre><code class="lang-PHP"><span class="hljs-variable">$kernel</span>-&gt;terminate(<span class="hljs-variable">$request</span>, <span class="hljs-variable">$response</span>);
</code></pre>
<h3 id="explaining-the-indexphp-code-sections">Explaining the index.php code sections</h3>
<ol>
<li><strong>Define LARAVEL_START</strong>: This line sets a constant that holds the timestamp of when the script started. This can be used for profiling and debugging.</li>
<li><strong>Check If The Application Is Under Maintenance</strong>: Laravel provides a maintenance mode that can be activated with the <code>php artisan down</code> command. When in maintenance mode, Laravel will display a custom view to all requests into your application. This can be used when you are updating your server or installing a new feature and you don&apos;t want users to see errors or experience downtime.</li>
<li><strong>Register The Auto Loader</strong>: This part of the script loads Composer&apos;s autoloader. Composer is a tool for dependency management in PHP, and its autoloader automatically loads PHP classes when they&apos;re needed, so you don&apos;t have to manually include them.</li>
<li><strong>Run The Application</strong>: This section does the actual work of handling the incoming HTTP request and sending a response.</li>
</ol>
<ul>
<li>It starts by <strong>bootstrapping the Laravel application</strong>, which involves setting up error handling, configuring logging, loading configuration files, and more. </li>
</ul>
<pre><code class="lang-PHP"><span class="hljs-variable">$app</span> = <span class="hljs-keyword">require_once</span> <span class="hljs-keyword">__DIR__</span>.<span class="hljs-string">&apos;/../bootstrap/app.php&apos;</span>;
</code></pre>
<ul>
<li>Then it creates an instance of Laravel&apos;s <strong>HTTP kernel</strong>, which is responsible for handling the request. The kernel handles the request and returns a response, which is then sent back to the client.</li>
</ul>
<pre><code class="lang-PHP"><span class="hljs-variable">$kernel</span> = <span class="hljs-variable">$app</span>-&gt;make(Kernel::class);
</code></pre>
<p>5 <strong>Terminate The Application</strong>: After the response has been sent to the client, the script calls the kernel&apos;s <code>terminate</code> method. This method is used to perform any final tasks after the response has been sent, such as committing database transactions or writing to log files.</p>
<h3 id="the-http-kernel">The HTTP Kernel</h3>
<p>Ok, now let&apos;s try to reason backwards and try to understand the following lines of code:</p>
<pre><code class="lang-PHP"><span class="hljs-variable">$response</span> = <span class="hljs-variable">$kernel</span>-&gt;handle(
    <span class="hljs-variable">$request</span> = Request::capture()
)-&gt;send();

<span class="hljs-variable">$kernel</span>-&gt;terminate(<span class="hljs-variable">$request</span>, <span class="hljs-variable">$response</span>);
</code></pre>
<p>the Laravel&apos;s HTTP kernel is primarily responsible for handling incoming HTTP requests to the application. It is the central component that manages the request lifecycle in a Laravel application.</p>
<p>To understand how the Laravel HTTP kernel works, we need to firstly start by analysing the code that <code>index.php</code> is <strong>using</strong>, namely, <code>Illuminate\Contracts\Http\Kernel</code>.</p>
<h3 id="analysing-the-illuminatecontractshttpkernel">Analysing the <code>Illuminate\Contracts\Http\Kernel</code>:</h3>
<p>The following is the code of the <code>Kernel.php</code> file which is namespaced as <code>Illuminate\Contracts\Http\Kernel</code>:</p>
<pre><code class="lang-PHP"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Contracts</span>\<span class="hljs-title">Http</span>;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Kernel</span>
</span>{
    <span class="hljs-comment">/**
     * Bootstrap the application for HTTP requests.
     *
     * <span class="hljs-doctag">@return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bootstrap</span>(<span class="hljs-params"></span>)</span>;

    <span class="hljs-comment">/**
     * Handle an incoming HTTP request.
     *
     * <span class="hljs-doctag">@param</span>  \Symfony\Component\HttpFoundation\Request  $request
     * <span class="hljs-doctag">@return</span> \Symfony\Component\HttpFoundation\Response
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span></span>)</span>;

    <span class="hljs-comment">/**
     * Perform any final actions for the request lifecycle.
     *
     * <span class="hljs-doctag">@param</span>  \Symfony\Component\HttpFoundation\Request  $request
     * <span class="hljs-doctag">@param</span>  \Symfony\Component\HttpFoundation\Response  $response
     * <span class="hljs-doctag">@return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">terminate</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, <span class="hljs-variable">$response</span></span>)</span>;

    <span class="hljs-comment">/**
     * Get the Laravel application instance.
     *
     * <span class="hljs-doctag">@return</span> \Illuminate\Contracts\Foundation\Application
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getApplication</span>(<span class="hljs-params"></span>)</span>;
}
</code></pre>
<p>This code is the interface for the HTTP Kernel in Laravel. </p>
<p>An interface in PHP is a contract or a blueprint for a class. </p>
<p>It defines a set of methods that the class must implement. In this case, any class that implements the <code>Illuminate\Contracts\Http\Kernel</code> interface must define the methods <code>bootstrap()</code>, <code>handle()</code>, <code>terminate()</code>, and <code>getApplication()</code>.</p>
<p>Here&apos;s what each method is intended to do:</p>
<ol>
<li><strong><code>bootstrap()</code></strong>: This method is responsible for bootstrapping the application for HTTP requests. It doesn&apos;t take any parameters and doesn&apos;t return anything (<code>void</code>).</li>
<li><strong><code>handle($request)</code></strong>: This method is responsible for handling an incoming HTTP request. It takes a <code>Symfony\Component\HttpFoundation\Request</code> object as a parameter and returns a <code>Symfony\Component\HttpFoundation\Response</code> object.</li>
<li><strong><code>terminate($request, $response)</code></strong>: This method is responsible for performing any final actions for the request lifecycle. It takes a <code>Symfony\Component\HttpFoundation\Request</code> object and a <code>Symfony\Component\HttpFoundation\Response</code> object as parameters and doesn&apos;t return anything (<code>void</code>).</li>
<li><strong><code>getApplication()</code></strong>: This method is responsible for getting the Laravel application instance. It doesn&apos;t take any parameters and returns an <code>Illuminate\Contracts\Foundation\Application</code> object.</li>
</ol>
<h3 id="the-question-that-begs-itself">The <span style="color: red;">question</span> that begs itself:</h3>
<p>How does the following line of code works?:</p>
<pre><code class="lang-PHP"><span class="hljs-variable">$kernel</span> = <span class="hljs-variable">$app</span>-&gt;make(Kernel::class);
</code></pre>
<p>How is the <code>$app-&gt;make();</code> method able to instantiate the <code>Kernel</code> Interface using just its namespace as a string <code>Kernel::class</code>? </p>
<p>In PHP, you can&apos;t instantiate an interface. In order to instantiate an Interface you need to create a non-abstract class that implements that interface.</p>
<h3 id="short-answer">Short answer:</h3>
<div style="display:flex; align-items:center; justify-content:center; border:5px solid black;">
    <h1 style="color:red; margin-top: 0px;" id="laravel-service-container">Laravel Service Container</h1>
</div>

<p><strong>Definition:</strong> The <strong>Laravel Service Container</strong>, also known as the <strong>IoC (Inversion of Control)</strong> container, is a powerful <strong>tool</strong> that has a variety of <strong>key features</strong> that help managing a Laravel application.</p>
<p>The service container is essentially a <span style="color: red;"><strong>box of objects (services)</strong></span> that the application needs to function. These services can be anything from database connections to mailer classes or custom-written services for your application. The container allows you to <span style="color: red; font-weight: bold">bind</span> these services into it, and then <span style="color: red; font-weight: bold">resolve</span> them out when you need them.</p>
<p>In Laravel, the <code>$app-&gt;make()</code> method is used to <strong>resolve</strong> a class out of the service container. </p>
<p>When you call <code>$app-&gt;make(Kernel::class)</code>, Laravel is not trying to instantiate the <code>Kernel</code> interface. Instead, it&apos;s looking for a concrete implementation of that interface that has been bound into the service container.</p>
<p>Earlier in the <code>bootstrap/app.php</code> file, Laravel <strong>binds</strong> the <code>Kernel</code> interface to a concrete implementation:</p>
<pre><code class="lang-php"><span class="hljs-variable">$app</span>-&gt;singleton(
    Illuminate\Contracts\Http\Kernel::class,
    App\Http\Kernel::class
);
</code></pre>
<p>This code tells Laravel: &quot;Whenever someone asks for the <code>Kernel</code> interface, give them an instance of <code>App\Http\Kernel</code>.&quot;</p>
<p>So, when you call <code>$app-&gt;make(Kernel::class)</code>, Laravel gives you an instance of <code>App\Http\Kernel</code>, which is a concrete class that implements the <code>Kernel</code> interface.</p>
<p>This is a fundamental part of Laravel&apos;s service container and is key to how Laravel handles dependency injection. It allows you to depend on abstractions (like interfaces) in your code, while Laravel takes care of providing the correct implementation.</p>
<p></p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>In Laravel, the <code>$app</code> variable is not globally accessible in all PHP files by default. However, Laravel provides a variety of ways to access the application instance (and thus the service container) when you need it.</p>
<p>1 <strong>Dependency Injection</strong>: Laravel&apos;s service container is primarily intended to be used with dependency injection. This means that instead of trying to access the <code>$app</code> variable directly, you type-hint the dependencies your class needs in its constructor, and Laravel will automatically inject them for you. This is the recommended way to access services in Laravel.</p>
</div></div><p></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Section 2.2: Laravel as a Backend Framework">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2_service_providers.html" class="navigation navigation-next " aria-label="Next page: 2.2.2: Service Providers">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.2.1: The Scaffolding of a Laravel App","level":"1.9.2.1","depth":3,"next":{"title":"2.2.2: Service Providers","level":"1.9.2.2","depth":3,"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/2_service_providers.md","ref":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/2_service_providers.md","articles":[]},"previous":{"title":"Section 2.2: Laravel as a Backend Framework","level":"1.9.2","depth":2,"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/README.md","ref":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/README.md","articles":[{"title":"2.2.1: The Scaffolding of a Laravel App","level":"1.9.2.1","depth":3,"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/1_the_scaffolding_of_a_laravel_app.md","ref":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/1_the_scaffolding_of_a_laravel_app.md","articles":[]},{"title":"2.2.2: Service Providers","level":"1.9.2.2","depth":3,"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/2_service_providers.md","ref":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/2_service_providers.md","articles":[]},{"title":"2.2.3: Facades","level":"1.9.2.3","depth":3,"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/3_facades.md","ref":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/3_facades.md","articles":[]},{"title":"2.2.4: The Rest","level":"1.9.2.4","depth":3,"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/4_the_rest.md","ref":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/4_the_rest.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["chapter-fold","hide-published-with","hints"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"asciidoc":{"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-cicle","working":"fa fa-wrench"}},"search":{},"hints":{"info":"fa fa-info-circle","tip":"fa fa-mortar-board","danger":"fa fa-exclamation-circle","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"hide-published-with":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"copyright":"Dhia Eddine Nabli","authors":["Dhia Eddine Nabli"],"theme":"default","keywords":["PHP","JS"],"pdf":{"pageNumbers":false,"fontSize":18,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Real-Time Modern Web Applications","language":"en","gitbook":"*","description":"Real-Time Modern Web Applications"},"file":{"path":"chapter_2_building_a_real_time_web_app/section_2.2_laravel_as_a_backend_framework/1_the_scaffolding_of_a_laravel_app.md","mtime":"2023-09-10T14:46:08.246Z","type":"markdown"},"gitbook":{"version":"4.0.8","time":"2023-09-10T17:38:57.498Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

